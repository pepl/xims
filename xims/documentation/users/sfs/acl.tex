\section{Berechtigungsmechanismus in \otherterm{XIMS}}
\label{berechtigungen}

\otherterm{XIMS} verfügt über ein umfangreiches Berechtigungssystem. Dieses ermöglicht eine
sehr feingranulare Steuerung von Berechtigungen. Berechtigungen können auf
Basis einzelner Benutzer bzw. Rollen (z.\,B. zur Verwaltung von Benutzergruppen)
vergeben werden. Berechtigungen regeln die Privilegien auf \otherterm{XIMS}-Objekte.

Ein Benutzer kann beispielsweise die Berechtigung besitzen, bestimmte Dokumente
zu lesen, ein anderer Benutzer hingegen kann Objekte editieren bzw. aus dem
System löschen.

Für jedes einzelne in \otherterm{XIMS} verwaltete Objekt sind eigene Zugriffsrechte in einer
sogenannten ">Access-Control-List"< (ACL) gespeichert. Mit einem Klick auf das »Zugriffskontrolle/Rechteverwaltung-Icon«
des gewünschten Objekts können bestehende Berechtigungen von Benutzern bzw.
Rollen gesichtet bzw. verändert werden. Hat ein Benutzer das »GRANT«-Recht
(Verwaltungsrecht), so darf dieser Benutzer auch bestehende Berechtigungen
verändern bzw. neue hinzufügen.

\begin{Hinweis}
  Die Berechtigungen werden für das jeweilige, einzelne Objekt
  durchgesetzt; jemanden bloß aus einem übergeordneten Verzeichnis
  auszusperren ist also nicht ausreichend: Die darunter liegenden
  Objekte könnten trotzdem (z.\,B. über die Suche) direkt angesprungen
  werden, wenn ihre eigene ACL dies zulässt!
\end{Hinweis}

\subsection{Rechte-Übersicht}
Fährt man mit der Maus über das Icon zum Rechteverwalten (Schlüsselsymbol) eines Objekts, öffnet sich ein sogenannter Tooltip, der eine Übersicht über die derzeit vergebenen Rechte gibt. Gesetzte Rechte in der Übersicht, erkennen Sie an der fetten Schrift und dem weißen Hintergrund des Buttons. Nicht vergebene Rechte sind durchgestrichen und hellgrau unterlegt.

XIMS kennt die folgenden Privilegien:

\subsubsection{Standardrechte (Basic Privileges)}
\label{standardrechte}
Standardrechte sind grundlegende Privilegien, die \otherterm{XIMS} zur Beschränkung des
Zugriffs auf Objekte zu vergeben hat. Sie sind ähnlich Dateisystemrechten auf
Betriebssystemebene (vgl. Windows/Unix-Zugriffsrechte auf Dateien bzw.
Verzeichnisse)

\paragraph{View (Lesen)}
Leserecht für Benutzer/Rolle.

\paragraph{Write (Schreiben)}
Schreibrechte für Benutzer/Rolle für ein Objekt. Dadurch können beispielsweise der
Titel bzw. Inhalt verändert und geschrieben werden.

\paragraph{Create (Erstellen)}
Benutzer/Rolle darf ein neues Objekt in einem \ximsterm{Container} erstellen.

\paragraph{Delete (Löschen)}
Benutzer/Rolle darf ein Objekt löschen.

\paragraph{Move (Verschieben)}
Benutzer/Rolle darf ein Objekt verschieben.

\subsubsection{Veröffentlichungsrechte (Publishing Privileges)}
\label{pubrechte}
\paragraph{Publish (Veröffentlichen)} Ein Benutzer bzw. eine Rolle hat das Recht Veröffentlichungsfunktionen
(»veröffentlichen«, »wiederveröffentlichen«, »veröffentlichen
rückgängig machen«; siehe Punkt \ref{publizieren}) auszuführen.

\subsubsection{Verwaltungsrechte (Grant Privileges)}
\label{verwrechte}

\paragraph{Grant (Rechte gewähren)} Besitzen Benutzer bzw. Rollen das Verwaltungsrecht (Grant Privilege), sind diese in
der Lage anderen Benutzern bzw. Rollen explizite Privilegien für Objekte
einzuräumen, d.h. Benutzer bzw. Rollen mit Verwaltungsrecht können Privilegien an
andere Benutzer bzw. Rollen vergeben.


\subsection{Berechtigungen vergeben und verwalten}
%\subsection{Berechtigungen eines Benutzers bzw. einer Rolle}
\label{berechtigungen-benutzer}
Um bestehende Berechtigungen zu ändern oder neue Berechtigungen zu vergeben, klicken Sie auf das Icon zur ">Rechteverwaltung"<. Es erscheint eine Dialog-Seite (siehe Abbildung \ref{fig:manage-acl}) auf der Sie im oberen Teil (1) neue Rechte vergeben können. Im zweiten Abschnitt (2) sehen Sie eine Tabelle mit den derzeit vergebenen Rechten und der Möglichkeit, diese Berechtigungen zu ändern oder zu entfernen.

\begin{figure}[!ht]
	\centering
		\includegraphics[width=\textwidth]{./images/manage-acl2.png}
	\caption{Rechte verwalten}
	\label{fig:manage-acl}
\end{figure}

\paragraph{Neue Berechtigungen vergeben}
%Geben Sie den Namen der Rolle oder des Benutzers, an den Sie Privilegien vergeben wollen, in das entsprechende Feld ein\footnote{Sie können gleiche Privilegien gleichzeitig an mehrere Nutzer vergeben indem Sie die Namen der Benutzer und Rollen durch Komma getrennt in das Feld eingeben}. Möchten Sie die Berechtigungen gleichzeitig nicht nur an das gewählte Objekt sondern auch an alle Kindobjekte (z.B. bei einem Ordner auch an alle enthaltenen Objekte und Unterorder) vergeben, aktivieren Sie die Option ">Rechte rekursiv vergeben/entziehen"<. Anschließend drücken Sie den ">Speichern"<-Button. Nach dem gleichen Schema können Sie einem oder mehreren Nutzern auch Rechte entziehen. Dazu klicken Sie statt ">Speichern"< den ">Rechte entfernen"<-Button.
Geben Sie den Namen der Rolle oder des Benutzers, an den Sie Privilegien vergeben wollen, in das entsprechende Feld ein\footnote{Sie können gleiche Privilegien gleichzeitig an mehrere Nutzer vergeben indem Sie die Namen der Benutzer und Rollen durch Komma getrennt in das Feld eingeben}. Anschließend drücken Sie den ">Speichern"<-Button. Nach dem gleichen Schema können Sie einem oder mehreren Nutzern auch Rechte entziehen. Dazu klicken Sie statt ">Speichern"< den ">Rechte entfernen"<-Button.

\paragraph{Bestehende Berechtigungen verwalten}

%\begin{figure}[!ht]
%	\centering
%		\includegraphics[width=\textwidth]{./images/bestehendeberechtigungen.png}
%	\caption{Bestehende Berechtigungen verwalten}
%	\label{fig:permissions}
%\end{figure}

Um bestehende Berechtigungen eines Benutzers zu verändern, gehen Sie in der Tabelle mit den vergebenen Rechten in die Zeile des Benutzers bzw. der Rolle, deren Berechtigungen Sie ändern wollen. Dort aktivieren bzw. deaktivieren Sie das Privileg durch Klick auf den entsprechenden Button in der Rechteübersicht und drücken anschließend ">Speichern"<. Wollen Sie einem Benutzer oder einer Rolle alle Rechte entziehen, klicken Sie auf den ">Rechte entfernen"<-Button in der Zeile des Benutzers/ der Rolle.

Um den Dialog zum Rechte verwalten zu verlassen ohne Privilegien zu ändern, wählen Sie ">Abbrechen"<.

%folgt man dem Link »Rechte verwalten« (Manage Privileges). Daraufhin folgt ein Dialog
%mit zwei unterschiedlichen Bereichen (siehe Abb.~\ref{fig:permissionadmin}). Der obere Bereich (1) dient
%zur Steuerung der Berechtigungen für den entsprechenden Benutzer bzw. der
%entsprechenden Rolle. Rollen sind i.d.R mit dem UIBK-Präfix gekennzeichnet. Im
%unteren Bereich (2) können die zuvor explizit dem Benutzer bzw. der Rolle
%zugewiesenen Berechtigungen wieder entfernt werden. D.h. über den »Rechte entfernen«-Button wird der Benutzer bzw. die
%Rolle aus der Berechtigungstabelle (siehe Abb.~\ref{fig:permissions}) des Objektes vollkommen
%entfernt und verliert alle damit verbundenen Berechtigungen.
%
%\begin{figure}[!ht]
%	\centering
%		\includegraphics[width=\textwidth]{./images/benutzerrechteverwalten.png}
%	\caption{Verwalten von Benutzer- bzw. Rollenprivilegien}
%	\label{fig:permissionadmin}
%\end{figure}
%
%Der obere Bereich (1) untergliedert sich in drei unterschiedliche Arten von
%Privilegien: Standardrechte, Veröffentlichungsrechte und Verwaltungsrechte
%(siehe auch Punkt \ref{zugriffsrechte}).
%Standardrechte sind übliche Berechtigungen, wie das Recht zu lesen bzw. zu
%schreiben. Das Veröffentlichungsrecht ermächtigt einen Benutzer bzw. eine Rolle,
%das Objekt zu veröffentlichen. Das Verwaltungsrecht gewährt einem Benutzer bzw.
%einer Rolle das Recht, anderen Personen Privilegien für ein Objekt einzuräumen
%bzw. wegzunehmen.
%Die Veränderungen der Privilegien werden erst durch das Drücken des
%»Speichern«-Buttons wirksam.
%Im unteren Bereich (2) können einem Benutzer bzw. der Rolle sämtliche Rechte auf
%das Objekt genommen werden. D.h. durch das Drücken des »Rechte entfernen«-
%Buttons (Revoke Grants) wird der Benutzer bzw. die Rolle aus der »Access Control
%List« (ACL) entfernt und scheint somit nicht mehr in der Liste der Benutzer auf,
%welche explizite Rechte auf das Objekt zugewiesen bekommen haben.

\begin{Hinweis}
  Wenn Sie einer Rolle, z.\,B.: UIBK:ALL, alle Rechte nehmen wollen,
  löschen Sie bitte die Rolle mit »Rechte entfernen« komplett aus der
  ACL. Wenn Sie die Rolle belassen und stattdessen alle Privilegien
  entfernen, sperren Sie damit alle Rollenmitglieder aus -- im Falle
  von UIBK:ALL vermutlich auch sich selbst!
\end{Hinweis}

%Um Benutzern bzw. Rollen, die bisher noch keine expliziten Rechte für ein Objekt
%haben, Privilegien zu erteilen, muss der Benutzer bzw. die Rolle zuerst ausfindig
%gemacht werden. Zu diesem Zweck bietet \otherterm{XIMS} in der Berechtigungsvergabe die
%Möglichkeit nach Benutzern bzw. Rollen zu suchen.
%
%\begin{figure}[!ht]
%	\centering
%		\includegraphics[width=\textwidth]{./images/benutzersuchen.png}
%	\caption{Benutzer bzw. Rollen ausfindig machen}
%	\label{fig:benutzersuchen}
%\end{figure}

%\textbf{Suche nach Benutzern:}
%
%Um nach einzelnen Benutzern zu suchen, ist die Benutzerkennung in das
%Eingabefeld einzugeben (z.\,B. C102XX). Mit einem anschließenden Klick auf den
%»Suchen«-Button, sucht \otherterm{XIMS} nach dem besagten Benutzer und listet diesen auf. In
%weiterer Folge können dem Benutzer über den Link »Neue Rechte vergeben«
%gewünschte Privilegien eingeräumt werden.
%
%\textbf{Suche nach Rollen:}
%
%Um nach bestehenden Rollen zu suchen, gibt man den Namen der Rolle (i.d.R.
%beginnend mit »UIBK:«) in das Suchfeld ein (beispielsweise UIBK:ZID) und wählt im
%Auswahlfeld »Rolle« (anstatt »BenutzerInnen«) aus. Nach einem anschließenden
%Klick auf »Suchen« listet \otherterm{XIMS} alle Rollen auf, die den Suchbegriff im Namen
%enthalten. Gewünschte Privilegien auf gefundene Rollen können analog zur Vergabe
%von Privilegien für Benutzer vergeben werden.

\subsection{Rollenverwaltung}
\label{rollenverwaltung}
Tritt ein Mitarbeiter neu in eine Organisationseingheit ein bzw. verlässt sie, ist es oft nötig ihm auf alle Objekte in einem bestimmten Bereich Privilegien zu geben bzw. diese zu entfernen. Hier ist die Arbeit mit Rollen ein praktisch Mittel. Anstatt jedem einzelnen Mitarbeiter Rechte einzeln zuzuweisen, vergibt man stattdessen die gewünschten Rechte an eine Rolle und fügt alle Benutzer, die die selben Rechte auf ein Objekt oder einen ganzen Bereich erhalten sollen dieser Rolle hinzu. Um Benutzer zu einer Rolle hinzufügen oder zu entfernen kann die Rollenverwaltung verwendet werden. Der jeweilige Rollenadministrator kann sich mit seiner
Benutzerkennung (z.\,B. C102XX) unter \url{http://xims.uibk.ac.at/roles} einloggen.

\begin{figure}[!ht]
	\centering
		\includegraphics[width=\textwidth]{./images/rollenverwaltung.png}
	\caption{Login Rollenverwaltung}
	\label{fig:rollenverwaltung}
\end{figure}

\begin{Hinweis}
Es wird empfohlen so wenig Rechte wie möglich an einzelne Benutzer zu vergeben. Die Arbeit mit Rollen dient im Endeffekt nicht nur der Übersichtlichkeit bei den vergebenen Rechten sondern vor allem auch der Vereinfachung der Wartung der Privilegien eines Bereichs.
\end{Hinweis}
