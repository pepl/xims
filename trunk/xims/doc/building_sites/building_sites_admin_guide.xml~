<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD Simplified DocBook XML V1.0//EN"
"http://www.oasis-open.org/docbook/xml/simple/1.0/sdocbook.dtd">
<article>
    <title>Building Sites with XIMS (Admin Guide)</title>

    <section>
        <title>Import/Create Site Directory</title>

        <para>For demonstration purposes we will build an example site for the Grey Dahut Preservation Initiative (GDPI). Sample content for that site is
        provided in the examples directory of the XIMS distribution as simple.examplesite.tld.</para>

        <para>To build your site you have two options to start with the SiteRoot content: First, you could create the content using the XIMS Web user interface,
        second you can build the core content you will be starting out from offline on disk and import it later using fs_importer.pl tool. For our GDPI site we
        will take the shortcut of importing the already existing files in the examples/simple.examplesite.tld directory. After cd&#39;ing to the examples
        directory of your XIMS distribution, issue the following command (Note: the script assumes that the password of the admin user is still the default
        password set after the XIMS installation. If you have changed that, you have to adapt the script):</para>

        <programlisting>[user@host examples]$ sh import_publish-simple.examplesite.tld.sh</programlisting>

        <para>This script will do the following:</para>

        <orderedlist>
            <listitem>
                <para>Import the simple.examplesite.tld directory under /root using fs_importer.pl</para>
            </listitem>

            <listitem>
                <para>Convert the imported the folder to a SiteRoot and set its SiteRoot URL to http://simple.examplesite.tld using folder_to_objectroot.pl</para>
            </listitem>

            <listitem>
                <para>Add DepartmentLinks for index.html,about.html,team.html, and contact.html using add_departmentlinks.pl</para>
            </listitem>
        </orderedlist>

        <para>If everything went right, you should see <computeroutput>Successfully added Departmentlinks to &#39;/simple.examplesite.tld&#39;</computeroutput>
        in your terminal and the imported Site should be available at http://yourximshost.domain/goxims/content/simple.examplesite.tld</para>
    </section>

    <section>
        <title>Create Role and User</title>

        <para>Now, as we have got some content to work on, we need users get access to it. We will start out with creating a role for the Grey Dahut
        Preservation Initiative (GDPI) called GDPI.</para>

        <section>
            <title>Create role and assign it to parent role</title>

            <para>Log in to XIMS as admin users and click on &#34;Manage users and roles&#34; at the &#34;Administrative Options&#34; section of your start
            page. At the &#34;Create User&#34; screen enter &#34;GDPI&#34; as name of the user, &#34;Grey Dahut Preserv. Initiative&#34; as full name and set
            the &#34;Account is an Abstract Role&#34; option to &#34;yes&#34;. After the role has been created, click on &#34;Grant Role&#34; and grant it the
            role &#34;everyone&#34;.</para>
        </section>

        <section>
            <title>Assign default bookmark to role</title>

            <para>After going back to the User/Role Management screen, click on &#34;Bookmarks&#34; for the newly created &#34;GDPI&#34; role. The path to the
            default bookmark is /simple.examplesite.tld in that case. Before clicking on create, do not forget to set the new bookmark as default bookmark.</para>
        </section>

        <section>
            <title>Create user and assign role</title>

            <para></para>
        </section>
    </section>

    <section>
        <title>Set user metadata</title>

        <para></para>
    </section>

    <section>
        <title>Assign Privileges</title>

        <para></para>
    </section>

    <section>
        <title>Publish Site</title>

        <para></para>

        <section>
            <title>Activate Site in Apache config</title>

            <para></para>
        </section>

        <section>
            <title>Publish Objects</title>

            <para>/usr/local/xims/tools/publisher.pl -u admin -p _adm1nXP -r /simple.examplesite.tld # republish to include the portlet, which is published by
            now /usr/local/xims/tools/publisher.pl -u admin -p _adm1nXP /simple.examplesite.tld </para>
        </section>

        <section>
            <title>Update SiteRoot URL</title>

            <para></para>
        </section>
    </section>
</article>